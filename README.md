# ğŸŒ¾ æ™ºæ…§å†œä¸šç—…è™«å®³è¯Šæ–­ç³»ç»Ÿ

<div align="center">

![Python](https://img.shields.io/badge/Python-3.12+-blue.svg)
![PyTorch](https://img.shields.io/badge/PyTorch-2.5+-red.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)
![Status](https://img.shields.io/badge/Status-Production-success.svg)

**åŸºäº YOLO-World + RAG + LLM çš„æ™ºèƒ½æ¤ç‰©ç—…å®³æ£€æµ‹ä¸è¯Šæ–­ç³»ç»Ÿ**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [åœ¨çº¿æ¼”ç¤º](#-åœ¨çº¿æ¼”ç¤º) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„) â€¢ [æ•ˆæœå±•ç¤º](#-æ•ˆæœå±•ç¤º)

</div>

---

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ™ºæ…§å†œä¸šç—…è™«å®³è¯Šæ–­ç³»ç»Ÿï¼Œç»“åˆäº†æœ€æ–°çš„è®¡ç®—æœºè§†è§‰æŠ€æœ¯å’Œå¤§è¯­è¨€æ¨¡å‹ï¼Œèƒ½å¤Ÿï¼š

- ğŸ” **é›¶æ ·æœ¬æ£€æµ‹**ï¼šè¯†åˆ«è®­ç»ƒæ—¶ä»æœªè§è¿‡çš„æ–°å‘ç—…å®³ï¼ˆå‡†ç¡®ç‡ 71.26%ï¼‰
- ğŸ“Š **æ™ºèƒ½è¯Šæ–­**ï¼šåŸºäºä¸“ä¸šçŸ¥è¯†åº“ç”Ÿæˆè¯¦ç»†çš„è¯Šæ–­æŠ¥å‘Š
- ğŸ’Š **é˜²æ²»å»ºè®®**ï¼šæä¾›é’ˆå¯¹æ€§çš„å†œä¸šå’ŒåŒ–å­¦é˜²æ²»æ–¹æ¡ˆ
- ğŸŒ **å‹å¥½ç•Œé¢**ï¼šç®€æ´ç›´è§‚çš„ Web æ“ä½œç•Œé¢
- ğŸ’° **ä½æˆæœ¬**ï¼šå•æ¬¡è¯Šæ–­æˆæœ¬ä¸åˆ° 0.002 å…ƒ

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- âœ… **å¼€æ”¾è¯æ±‡æ£€æµ‹**ï¼šåŸºäº YOLO-Worldï¼Œçªç ´ä¼ ç»Ÿæ¨¡å‹çš„ç±»åˆ«é™åˆ¶
- âœ… **çŸ¥è¯†å¢å¼ºç”Ÿæˆ**ï¼šRAG æŠ€æœ¯ç»“åˆ 25 ç§ç—…å®³ä¸“ä¸šçŸ¥è¯†åº“
- âœ… **å¤šç»´åº¦åˆ†æ**ï¼šç—…åŸã€ç—‡çŠ¶ã€å‘ç—…æ¡ä»¶ã€å±å®³ç¨‹åº¦å…¨é¢åˆ†æ
- âœ… **å®ç”¨å»ºè®®**ï¼šå†œä¸šæªæ–½ã€åŒ–å­¦é˜²æ²»ã€ç”¨è¯å®‰å…¨ç­‰è¯¦ç»†æŒ‡å¯¼
- âœ… **å¿«é€Ÿå“åº”**ï¼š5-10 ç§’å®Œæˆä»æ£€æµ‹åˆ°æŠ¥å‘Šç”Ÿæˆçš„å…¨æµç¨‹

### æŠ€æœ¯äº®ç‚¹

| ç‰¹æ€§ | è¯´æ˜ | æŒ‡æ ‡ |
|------|------|------|
| ğŸ¯ **é›¶æ ·æœ¬æ£€æµ‹** | å¯è¯†åˆ«æœªè§è¿‡çš„æ–°ç—…å®³ | 71.26% mAP50 |
| ğŸš€ **é«˜å‡†ç¡®ç‡** | å·²çŸ¥ç—…å®³æ£€æµ‹å‡†ç¡®ç‡ | 98%+ |
| ğŸ’¡ **ä¸“ä¸šè¯Šæ–­** | åŸºäºçŸ¥è¯†åº“çš„ç²¾å‡†åˆ†æ | 95 ä¸ªçŸ¥è¯†æ–‡æ¡£ |
| âš¡ **å¿«é€Ÿæ¨ç†** | ç«¯åˆ°ç«¯è¯Šæ–­æ—¶é—´ | 5-10 ç§’ |
| ğŸ’° **ä½æˆæœ¬** | å•æ¬¡è¯Šæ–­æˆæœ¬ | < 0.002 å…ƒ |

---

## ğŸ¬ åœ¨çº¿æ¼”ç¤º

> ğŸ”— **æ¼”ç¤ºåœ°å€**ï¼š[https://your-demo-link.com](https://your-demo-link.com)
> 
> ğŸ“¹ **æ¼”ç¤ºè§†é¢‘**ï¼š[YouTube](https://youtube.com) / [Bilibili](https://bilibili.com)

### å¿«é€Ÿä½“éªŒ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/plant-disease-diagnosis.git
cd plant-disease-diagnosis

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# ä¸‹è½½æ¨¡å‹ï¼ˆè§ä¸‹æ–¹è¯´æ˜ï¼‰

# å¯åŠ¨åº”ç”¨
python app/gradio_app.py
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.12+ 
- **CUDA**: 12.4+ (æ¨è GPU è¿è¡Œ)
- **å†…å­˜**: 16GB+
- **ç£ç›˜**: 5GB+

### 1ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ä¾èµ–åˆ—è¡¨</summary>

```
ultralytics>=8.3.246
torch>=2.5.1
torchvision>=0.16.1
chromadb
sentence-transformers
dashscope
gradio>=6.0
langchain-community
pillow
numpy
```

</details>

### 2ï¸âƒ£ ä¸‹è½½æ¨¡å‹æƒé‡

**é€‰é¡¹ Aï¼šä» HuggingFace ä¸‹è½½** (æ¨è)

```python
from huggingface_hub import hf_hub_download

model_path = hf_hub_download(
    repo_id="your-username/plant-disease-yoloworld",
    filename="best.pt",
    local_dir="./runs/yoloworld/train/weights/"
)
```

**é€‰é¡¹ Bï¼šä»ç½‘ç›˜ä¸‹è½½**

- ğŸ”— ç™¾åº¦ç½‘ç›˜ï¼š[ä¸‹è½½é“¾æ¥](https://pan.baidu.com) | æå–ç ï¼š`xxxx`
- ğŸ”— Google Driveï¼š[ä¸‹è½½é“¾æ¥](https://drive.google.com)
- ğŸ“¦ è§£å‹åˆ°ï¼š`./runs/yoloworld/train/weights/best.pt`

### 3ï¸âƒ£ é…ç½® API Key

è·å–é˜¿é‡Œäº‘ç™¾ç‚¼ API Keyï¼š[https://bailian.console.aliyun.com/](https://bailian.console.aliyun.com/)

```bash
# æ–¹æ³• 1ï¼šç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰
export DASHSCOPE_API_KEY="your-api-key"

# æ–¹æ³• 2ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶
# ç¼–è¾‘ src/rag/llm_generator.pyï¼Œä¿®æ”¹ api_key å‚æ•°
```

### 4ï¸âƒ£ æ„å»ºå‘é‡æ•°æ®åº“

```bash
python build_vectorstore.py \
    --json_path knowledge_base/disease_knowledge_base.json \
    --persist_dir ./vectorstore/chroma_db
```

### 5ï¸âƒ£ å¯åŠ¨åº”ç”¨

```bash
python app/gradio_app.py
```

æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:6006`

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Gradio Web Interface                      â”‚
â”‚            (Image Upload â†’ Detection â†’ Report)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Diagnosis Pipeline                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  YOLO-World  â”‚â†’â†’â”‚  RAG         â”‚â†’â†’â”‚  LLM Generator   â”‚  â”‚
â”‚  â”‚  Detection   â”‚  â”‚  Retrieval   â”‚  â”‚  (Qwen-Turbo)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“                    â†“                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YOLO Model   â”‚    â”‚  ChromaDB    â”‚    â”‚ Alibaba Cloudâ”‚
â”‚ (Fine-tuned) â”‚    â”‚  Vector DB   â”‚    â”‚ Qwen API     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æ¨¡å— | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| ğŸ” **ç›®æ ‡æ£€æµ‹** | YOLO-World (Ultralytics) | å¼€æ”¾è¯æ±‡æ£€æµ‹ï¼Œæ”¯æŒé›¶æ ·æœ¬ |
| ğŸ—„ï¸ **å‘é‡æ•°æ®åº“** | ChromaDB | é«˜æ•ˆçš„è¯­ä¹‰æ£€ç´¢ |
| ğŸ§  **Embedding** | BGE-base-zh-v1.5 | ä¸­æ–‡è¯­ä¹‰å‘é‡åŒ– |
| ğŸ’¬ **å¤§è¯­è¨€æ¨¡å‹** | é€šä¹‰åƒé—® Qwen-Turbo | æ™ºèƒ½è¯Šæ–­æŠ¥å‘Šç”Ÿæˆ |
| ğŸŒ **Web æ¡†æ¶** | Gradio 6.0 | å¿«é€Ÿæ„å»º ML åº”ç”¨ç•Œé¢ |
| ğŸ”— **ç¼–æ’æ¡†æ¶** | LangChain | RAG æµç¨‹ç¼–æ’ |

---

## ğŸ“Š æ•ˆæœå±•ç¤º

### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **é›¶æ ·æœ¬æ£€æµ‹ mAP50** | 71.26% | æœªè§è¿‡çš„ç—…å®³æ£€æµ‹å‡†ç¡®ç‡ |
| **å·²çŸ¥ç—…å®³æ£€æµ‹** | 98%+ | è®­ç»ƒé›†ç—…å®³æ£€æµ‹å‡†ç¡®ç‡ |
| **æ£€ç´¢å‡†ç¡®ç‡** | 0.75-0.85 | çŸ¥è¯†åº“ç›¸ä¼¼åº¦å¾—åˆ† |
| **å“åº”æ—¶é—´** | 5-10 ç§’ | å®Œæ•´è¯Šæ–­æµç¨‹è€—æ—¶ |
| **æˆæœ¬** | 0.001-0.002 å…ƒ | å•æ¬¡è¯Šæ–­ API æˆæœ¬ |

### é›¶æ ·æœ¬æ£€æµ‹å¯¹æ¯”

| æ¨¡å‹ | è®­ç»ƒé›† mAP50 | é›¶æ ·æœ¬ mAP50 | é›¶æ ·æœ¬èƒ½åŠ› |
|------|-------------|-------------|-----------|
| YOLOv8 (Baseline) | 99.50% | **0%** | âŒ æ— æ³•æ£€æµ‹ |
| **YOLO-World (Ours)** | 99.50% | **71.26%** | âœ… å¼ºå¤§ |

### è¯Šæ–­æŠ¥å‘Šç¤ºä¾‹

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´è¯Šæ–­æŠ¥å‘Š</summary>

```markdown
## ğŸ” æ£€æµ‹ç»“æœæ¦‚è§ˆ
æ£€æµ‹åˆ°ç•ªèŒ„æ¤æ ªä¸Šå­˜åœ¨**ç•ªèŒ„æ—©ç–«ç—…**ï¼Œç½®ä¿¡åº¦ 98.6%ã€‚æ ¹æ®å¶ç‰‡ç—‡çŠ¶è§‚å¯Ÿï¼Œ
ç—…æ–‘å‘ˆç°è¤è‰²åŒå¿ƒè½®çº¹çŠ¶ï¼Œè¡¨æ˜ç—…æƒ…å·²è¿›å…¥ä¸­ç­‰é˜¶æ®µï¼Œéœ€å°½å¿«é‡‡å–é˜²æ²»æªæ–½ã€‚

## ğŸ“‹ ç—…å®³è¯¦ç»†åˆ†æ

### ç—…å®³ï¼šç•ªèŒ„æ—©ç–«ç—…
- **ç—…åŸ**ï¼šèŒ„é“¾æ ¼å­¢èŒ (Alternaria solani)
- **ä¸»è¦ç—‡çŠ¶**ï¼šå¶ç‰‡ä¸Šå‡ºç°åœ†å½¢æˆ–è¿‘åœ†å½¢çš„è¤è‰²ç—…æ–‘ï¼Œå…·æœ‰æ˜æ˜¾çš„åŒå¿ƒè½®çº¹...
- **å‘ç—…æ¡ä»¶**ï¼šæ¸©æš–æ½®æ¹¿ç¯å¢ƒï¼ˆ20-30Â°Cï¼‰ï¼Œç›¸å¯¹æ¹¿åº¦é«˜äº80%...
- **å±å®³ç¨‹åº¦**ï¼šå½±å“å…‰åˆä½œç”¨ï¼Œå¯¼è‡´æ¤æ ªç”Ÿé•¿ä¸è‰¯ï¼Œä¸¥é‡æ—¶å¯é€ æˆå‡äº§...

## ğŸ›¡ï¸ é˜²æ²»å»ºè®®

### 1. å†œä¸šé˜²æ²»æªæ–½
- é€‰ç”¨æŠ—ç—…å“ç§ï¼Œå®è¡Œ3å¹´ä»¥ä¸Šè½®ä½œ
- åŠæ—¶æ¸…é™¤ç—…æ®‹ä½“ï¼Œä¿æŒç”°é—´é€šé£
- åˆç†æ–½è‚¥ï¼Œå¢å¼ºæ¤æ ªæŠ—ç—…åŠ›

### 2. åŒ–å­¦é˜²æ²»æ–¹æ¡ˆ
- 75%ç™¾èŒæ¸…å¯æ¹¿æ€§ç²‰å‰‚ 600å€æ¶²ï¼Œæ¯7-10å¤©å–·æ–½ä¸€æ¬¡
- 70%ä»£æ£®é”°é”Œå¯æ¹¿æ€§ç²‰å‰‚ 500å€æ¶²ï¼Œè¿ç»­2-3æ¬¡
...
```

</details>

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
plant-disease-diagnosis/
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ rag/                      # RAG æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ retriever.py         # çŸ¥è¯†æ£€ç´¢å™¨
â”‚   â”‚   â””â”€â”€ llm_generator.py     # LLM ç”Ÿæˆå™¨
â”‚   â””â”€â”€ pipeline/                 # æµç¨‹æ•´åˆ
â”‚       â””â”€â”€ diagnosis_pipeline.py # å®Œæ•´è¯Šæ–­æµç¨‹
â”œâ”€â”€ app/                          # Web åº”ç”¨
â”‚   â””â”€â”€ gradio_app.py            # Gradio ç•Œé¢
â”œâ”€â”€ knowledge_base/               # çŸ¥è¯†åº“
â”‚   â””â”€â”€ disease_knowledge_base.json
â”œâ”€â”€ runs/                         # æ¨¡å‹æƒé‡ï¼ˆéœ€ä¸‹è½½ï¼‰
â”‚   â””â”€â”€ yoloworld/train/weights/best.pt
â”œâ”€â”€ vectorstore/                  # å‘é‡æ•°æ®åº“ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ build_vectorstore.py         # å‘é‡åŒ–è„šæœ¬
â”œâ”€â”€ requirements.txt             # ä¾èµ–åˆ—è¡¨
â””â”€â”€ README.md                    # æœ¬æ–‡ä»¶
```

---

## ğŸ”¬ æ•°æ®é›†

### PlantVillage Dataset

- **æ¥æº**ï¼š[Kaggle](https://www.kaggle.com/datasets/emmarex/plantdisease)
- **è§„æ¨¡**ï¼š31,397 å¼ é«˜æ¸…å›¾åƒ
- **ç±»åˆ«**ï¼š25 ç§æ¤ç‰©ç—…å®³
- **ä½œç‰©**ï¼šç•ªèŒ„ã€é©¬é“ƒè–¯ã€è¾£æ¤’ç­‰

### æ•°æ®åˆ’åˆ†

| æ•°æ®é›† | ç±»åˆ«æ•° | å›¾åƒæ•° | ç”¨é€” |
|--------|--------|--------|------|
| è®­ç»ƒé›† | 20 ç±» | 18,657 | æ¨¡å‹è®­ç»ƒ |
| éªŒè¯é›† | 20 ç±» | 4,674 | æ¨¡å‹éªŒè¯ |
| é›¶æ ·æœ¬æµ‹è¯• | 5 ç±» | 8,066 | é›¶æ ·æœ¬èƒ½åŠ›æµ‹è¯• |

**é›¶æ ·æœ¬æµ‹è¯•ç±»åˆ«**ï¼ˆè®­ç»ƒæ—¶å®Œå…¨æœªè§ï¼‰ï¼š
1. Tomato Early Blightï¼ˆç•ªèŒ„æ—©ç–«ç—…ï¼‰
2. Tomato Late Blightï¼ˆç•ªèŒ„æ™šç–«ç—…ï¼‰
3. Tomato Septoria Leaf Spotï¼ˆç•ªèŒ„æ–‘æ¯ç—…ï¼‰
4. Potato Early Blightï¼ˆé©¬é“ƒè–¯æ—©ç–«ç—…ï¼‰
5. Tomato Yellow Leaf Curl Virusï¼ˆç•ªèŒ„é»„åŒ–æ›²å¶ç—…æ¯’ç—…ï¼‰

---

## ğŸ“ ä½¿ç”¨æŒ‡å—

### åŸºæœ¬ä½¿ç”¨

1. **ä¸Šä¼ å›¾åƒ**ï¼šæ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ ç—…å®³å›¾åƒ
2. **è‡ªåŠ¨æ£€æµ‹**ï¼šç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«ç—…å®³ç±»å‹å’Œä½ç½®
3. **æŸ¥çœ‹æŠ¥å‘Š**ï¼šé˜…è¯»è¯¦ç»†çš„è¯Šæ–­æŠ¥å‘Šå’Œé˜²æ²»å»ºè®®
4. **å¯¼å‡ºç»“æœ**ï¼šå¤åˆ¶æŠ¥å‘Šæ–‡æœ¬æˆ–ä¿å­˜æ ‡æ³¨å›¾åƒ

### é«˜çº§ä½¿ç”¨

#### æ‰¹é‡è¯Šæ–­

```python
from src.pipeline.diagnosis_pipeline import PlantDiseaseDiagnosisPipeline

# åˆå§‹åŒ–æµç¨‹
pipeline = PlantDiseaseDiagnosisPipeline(
    yolo_model_path="./runs/yoloworld/train/weights/best.pt",
    vectorstore_path="./vectorstore/chroma_db",
    api_key="your-api-key"
)

# æ‰¹é‡å¤„ç†
image_paths = ["img1.jpg", "img2.jpg", "img3.jpg"]
for img_path in image_paths:
    result = pipeline.diagnose(img_path)
    print(result['diagnosis_report']['report'])
```

#### è‡ªå®šä¹‰çŸ¥è¯†åº“

```python
# æ·»åŠ æ–°çš„ç—…å®³çŸ¥è¯†
import json

with open('knowledge_base/disease_knowledge_base.json', 'r') as f:
    knowledge = json.load(f)

# æ·»åŠ æ–°ç—…å®³
new_disease = {
    "id": 26,
    "name_cn": "æ–°ç—…å®³åç§°",
    "name_en": "New Disease Name",
    "crop": "ä½œç‰©åç§°",
    "pathogen": "ç—…åŸä½“",
    "symptoms": "ç—‡çŠ¶æè¿°",
    # ...
}
knowledge.append(new_disease)

# ä¿å­˜å¹¶é‡æ–°æ„å»ºå‘é‡åº“
with open('knowledge_base/disease_knowledge_base.json', 'w') as f:
    json.dump(knowledge, f, ensure_ascii=False, indent=2)

# é‡æ–°æ„å»ºå‘é‡åº“
!python build_vectorstore.py
```

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æµ‹è¯•

```bash
# æµ‹è¯• RAG æ£€ç´¢å™¨
python src/rag/retriever.py

# æµ‹è¯• LLM ç”Ÿæˆå™¨
python src/rag/llm_generator.py

# æµ‹è¯•å®Œæ•´ Pipeline
python src/pipeline/diagnosis_pipeline.py
```

### ç¯å¢ƒå˜é‡

```bash
# å¿…éœ€
export DASHSCOPE_API_KEY="your-api-key"

# å¯é€‰ï¼ˆåŠ é€Ÿæ¨¡å‹åŠ è½½ï¼‰
export HF_HUB_OFFLINE=1
export TRANSFORMERS_OFFLINE=1
export HF_ENDPOINT=https://hf-mirror.com
```

### è‡ªå®šä¹‰é…ç½®

ç¼–è¾‘ `src/pipeline/diagnosis_pipeline.py`ï¼š

```python
pipeline = PlantDiseaseDiagnosisPipeline(
    yolo_model_path="your/model/path",
    vectorstore_path="your/vectorstore/path",
    api_key="your-api-key",
    llm_model="qwen-turbo",  # å¯é€‰ï¼šqwen-plus, qwen-max
    confidence_threshold=0.25  # æ£€æµ‹ç½®ä¿¡åº¦é˜ˆå€¼
)
```

---

## ğŸ› å¸¸è§é—®é¢˜

<details>
<summary><b>Q1: å¦‚ä½•è§£å†³æ¨¡å‹ä¸‹è½½æ…¢çš„é—®é¢˜ï¼Ÿ</b></summary>

**A:** ä½¿ç”¨é•œåƒæºåŠ é€Ÿï¼š

```bash
export HF_ENDPOINT=https://hf-mirror.com
```

æˆ–ç›´æ¥ä»ç½‘ç›˜ä¸‹è½½é¢„è®­ç»ƒæƒé‡ã€‚
</details>

<details>
<summary><b>Q2: ä¸ºä»€ä¹ˆæ˜¾ç¤º "æœªæ£€æµ‹åˆ°ç—…å®³"ï¼Ÿ</b></summary>

**A:** å¯èƒ½åŸå› ï¼š
- å›¾åƒè´¨é‡ä¸ä½³ï¼ˆæ¨¡ç³Šã€å…‰çº¿ä¸è¶³ï¼‰
- ç—…å®³ä¸æ˜æ˜¾
- ä¸åœ¨ç³»ç»Ÿæ”¯æŒçš„ç—…å®³ç±»å‹èŒƒå›´å†…

å»ºè®®ï¼š
- ä½¿ç”¨æ¸…æ™°çš„é«˜åˆ†è¾¨ç‡å›¾åƒ
- ç¡®ä¿ç—…å®³ç‰¹å¾æ˜æ˜¾
- æŸ¥çœ‹æ”¯æŒçš„ç—…å®³åˆ—è¡¨
</details>

<details>
<summary><b>Q3: API è°ƒç”¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</b></summary>

**A:** æ£€æŸ¥æ­¥éª¤ï¼š
1. ç¡®è®¤ API Key æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. æŸ¥çœ‹ API ä½™é¢æ˜¯å¦å……è¶³
4. æŸ¥çœ‹é”™è¯¯æ—¥å¿—è·å–è¯¦ç»†ä¿¡æ¯
</details>

<details>
<summary><b>Q4: å¦‚ä½•æé«˜æ£€æµ‹å‡†ç¡®ç‡ï¼Ÿ</b></summary>

**A:** ä¼˜åŒ–å»ºè®®ï¼š
- ä½¿ç”¨é«˜è´¨é‡ã€æ¸…æ™°çš„å›¾åƒ
- ç¡®ä¿ç—…å®³åŒºåŸŸåœ¨å›¾åƒä¸­å¿ƒ
- é¿å…å¤æ‚èƒŒæ™¯å¹²æ‰°
- å¯ä»¥è°ƒæ•´ `confidence_threshold` å‚æ•°
</details>

---

## ğŸ“ˆ è·¯çº¿å›¾

### v1.0 âœ… (å½“å‰ç‰ˆæœ¬)
- âœ… YOLO-World é›¶æ ·æœ¬æ£€æµ‹
- âœ… RAG çŸ¥è¯†æ£€ç´¢
- âœ… LLM è¯Šæ–­æŠ¥å‘Šç”Ÿæˆ
- âœ… Gradio Web ç•Œé¢

### v1.1 ğŸš§ (è®¡åˆ’ä¸­)
- [ ] æ”¯æŒæ›´å¤šç—…å®³ç±»åˆ«ï¼ˆ50+ï¼‰
- [ ] æ‰¹é‡è¯Šæ–­åŠŸèƒ½
- [ ] å†å²è®°å½•ç®¡ç†
- [ ] PDF æŠ¥å‘Šå¯¼å‡º

### v2.0 ğŸ’¡ (æœªæ¥)
- [ ] ç§»åŠ¨ç«¯åº”ç”¨ï¼ˆå°ç¨‹åº/Appï¼‰
- [ ] è§†é¢‘æµå®æ—¶æ£€æµ‹
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] ç”¨æˆ·åé¦ˆç³»ç»Ÿ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 ç¼–ç è§„èŒƒ
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¼–å†™å•å…ƒæµ‹è¯•
- ç¡®ä¿ä»£ç é€šè¿‡æ‰€æœ‰æµ‹è¯•

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ“§ è”ç³»æ–¹å¼

- **ä½œè€…**ï¼šYour Name
- **é‚®ç®±**ï¼šyour.email@example.com
- **GitHub**ï¼š[@your-username](https://github.com/your-username)
- **é¡¹ç›®ä¸»é¡µ**ï¼š[https://github.com/your-username/plant-disease-diagnosis](https://github.com/your-username/plant-disease-diagnosis)

---

## ğŸ™ è‡´è°¢

- [Ultralytics](https://github.com/ultralytics/ultralytics) - YOLO-World å®ç°
- [ChromaDB](https://www.trychroma.com/) - å‘é‡æ•°æ®åº“
- [Alibaba Cloud](https://www.alibabacloud.com/) - é€šä¹‰åƒé—® API
- [Gradio](https://gradio.app/) - Web ç•Œé¢æ¡†æ¶
- [PlantVillage](https://plantvillage.psu.edu/) - æ•°æ®é›†æ¥æº

---

## â­ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star â­ï¸ï¼

[![Star History Chart](https://api.star-history.com/svg?repos=your-username/plant-disease-diagnosis&type=Date)](https://star-history.com/#your-username/plant-disease-diagnosis&Date)

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

![GitHub stars](https://img.shields.io/github/stars/your-username/plant-disease-diagnosis?style=social)
![GitHub forks](https://img.shields.io/github/forks/your-username/plant-disease-diagnosis?style=social)
![GitHub watchers](https://img.shields.io/github/watchers/your-username/plant-disease-diagnosis?style=social)

---

<div align="center">

**[â¬† å›åˆ°é¡¶éƒ¨](#-æ™ºæ…§å†œä¸šç—…è™«å®³è¯Šæ–­ç³»ç»Ÿ)**

Made with â¤ï¸ by [Your Name](https://github.com/your-username)

</div>
